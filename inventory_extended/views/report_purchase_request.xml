<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_purchase_request_inherit" inherit_id="purchase_request.report_purchase_request">
        <!-- Remove Specifications -->
        <xpath expr="//th[strong/text()='Specifications']" position="replace"/>
        <xpath expr="//td[span/@t-field='line_id.specifications']" position="replace"/>

        <!-- Replace Description header with Material for consistency -->
        <xpath expr="//th[strong/text()='Description']" position="replace">
            <th><strong>Material</strong></th>
        </xpath>

        <!-- Replace Description cell with Material -->
        <xpath expr="//td[span/@t-field='line_id.name']" position="replace">
            <td>
                <span t-field="line_id.material"/>
            </td>
        </xpath>

        <!-- Change Requested Date to Required Date -->
        <xpath expr="//th[strong/text()='Requested Date']" position="replace">
            <th class="text-right"><strong>Required Date</strong></th>
        </xpath>

        <!-- Add Remarks header after Required Date -->
        <xpath expr="//th[strong/text()='Required Date']" position="after">
            <th><strong>Remarks</strong></th>
        </xpath>

        <!-- Add Remarks cell after Required Date cell -->
        <xpath expr="//td[span/@t-field='line_id.date_required']" position="after">
            <td>
                <span t-field="line_id.remarks"/>
            </td>
        </xpath>

        <!-- Add Department after Requested by -->
        <xpath expr="//div[strong/text()='Requested by:']" position="inside">
            <br/>
            <strong>Department:</strong>
            <br/>
            <span t-field="o.department_id"/>
        </xpath>

        <!-- Add Sr. No. and Item Code headers before the first header -->
        <xpath expr="//thead/tr/th[1]" position="before">
            <th class="text-center"><strong>Sr. No.</strong></th>
            <th><strong>Item Code</strong></th>
        </xpath>

        <!-- Add Sr. No. and Item Code cells before the first cell in each row -->
        <xpath expr="//tbody/tr/td[1]" position="before">
            <td class="text-center"><span t-esc="line_id_index + 1"/></td>
            <td><span t-field="line_id.item_code"/></td>
        </xpath>

        <!-- Add HSN/SAC Code header after Material header -->
        <xpath expr="//th[strong/text()='Material']" position="after">
            <th><strong>HSN/SAC Code</strong></th>
        </xpath>

        <!-- Add HSN/SAC Code cell after Material cell -->
        <xpath expr="//td[span/@t-field='line_id.material']" position="after">
            <td class="text-center">
                <span t-field="line_id.hsn_sac_code"/>
            </td>
        </xpath>
    </template>
</odoo>